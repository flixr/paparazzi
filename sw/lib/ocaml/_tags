# uncomment to add debugging for all
#true: debug

#
# packages for lib-pprz files
#
<*[xX]ml*.ml*>: package(xml-light)
<env.ml*>: package(xml-light)
<pprz.ml*>: package(xml-light), package(ivy)
<xmlCom.ml*>: package(netstring)
<editAirframe.ml*>: package(netstring)
<fp_proc.ml*>: package(xml-light)
<ubx.ml>: package(xml-light)
<gen_common.ml*>: package(xml-light)

# http.ml needs to be preprocessed by camlp4 for the IFDEF
"http.ml": syntax(camlp4o), package(camlp4.macro), package(netclient)

#"lib-pprz.cma": package(xml-light), package(netclient), package(glibivy), package(lablgtk2)
#"xlib-pprz.cma": package(xml-light), package(netclient), package(glibivy), package(lablgtk2)

#
# packages for xlib-pprz files
#
<gtk_tools.ml*>: package(lablgtk2)
<contrastLabel.ml*>: package(lablgtk2)
<acIcon.ml*>: package(lablgtk2)
<papget*.ml*>: package(xml-light), package(lablgtk2)
<map*.ml*>: package(lablgtk2)
<xmlEdit.ml*>: package(lablgtk2)
<mapFP.ml*>: package(xml-light)
# todo, gnomecanvas package not named the same in all versions
<wind_sock.ml*>: package(lablgtk2-gnome.gnomecanvas)

# options for files generated with lablgladecc2 in Makefile
<gtk_papget_*editor.ml>: package(lablgtk2.glade)


#
# using custom tags from myocamlbuild.ml from here on...
#

# options for compiling C stubs
"ml_gtk_drag.c": use_gtk
#, package(lablgtk)

# link C libs
<lib-pprz.cm{x,}a>: linklib(pprz_stub.a)
#<*.cm{x,}a>: linklib(pprz_stub.a)
<xlib-pprz.cm{x,}a>: linklib(gtkdrag_stub.a)
